{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{{ lista.nombre }} | Twittor{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto mt-8">
  <!-- Encabezado -->
  <div class="card p-5 mb-6">
    <div class="flex justify-between items-center mb-2 border-b dark:border-white/10 pb-2">
      <h2 class="text-2xl font-bold">
        {{ lista.nombre }}
        <span class="muted text-sm font-normal">
          ({{ lista.miembros.count }} miembros)
        </span>
      </h2>
      {% if lista.creador == user %}
        <a href="{% url 'gestionar_miembros' lista_id=lista.pk %}"
           class="link text-sm font-medium">
           Gestionar Miembros
        </a>
      {% endif %}
    </div>

    {% if lista.descripcion %}
      <p class="muted mb-4">{{ lista.descripcion }}</p>
    {% endif %}
  </div>

  <!-- Compositor de Tweets -->
  {% include "core/tweet_composer.html" %}

  <!-- Lista de Tweets -->
  <h3 class="text-xl font-semibold muted mt-6 mb-4 border-t dark:border-white/10 pt-4">
    Última actividad
  </h3>

  {% if tweets %}
    <div class="space-y-4">
      {% for t in tweets %}
        {% include "core/tweet_card.html" with tweet=t %}
      {% endfor %}
    </div>
  {% else %}
    <div class="muted text-center p-6 card border-yellow-200 dark:border-yellow-900 bg-yellow-50 dark:bg-yellow-950">
      No hay publicaciones de los miembros de esta lista todavía.
    </div>
  {% endif %}
</div>
{% endblock %}
